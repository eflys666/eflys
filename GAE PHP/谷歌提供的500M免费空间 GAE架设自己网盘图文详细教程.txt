谷歌提供的500M免费空间 GAE架设自己网盘图文详细教程

架设自己网盘图文详细教程（无限外链啊~） 2010-07-25 12:47 1:打开Google app engine 官网，用你的google 邮箱登陆 2：点击创建 3.输入手机号码，接收验证码，国家那里可以不用选择，直接用默认的others，下面输入手机号码,中国的用+86 格式，我用的是接我的手机收验证码 的，几秒就收到信息了，是上海的小灵通号。图示是用GV 收的。 4：填写刚才收到的验证码按确定 5:接下来就进入创建页面了，把该填的填上，点创建 6：马上显示创建成功 7：接下来下载网盘源码和上传工具，我已经放在一个文件夹里打包好了，下载地址： http://u.115.com/file/f9697d1025 8：下载好了解压出来得到一个名为：SDUpload 的文件夹，将这个文件夹里的所有文件复制到D 盘根目录（其他盘也可以，我放在d 盘根目录下）这点 很重 要，一定要把里面的文件全部放到d 盘根目录下,修改app.yaml 修改第一行中application 后面的名称，这里填上你刚刚创建的应用名称比如你的AppEngine 地址是aaa.appspot.com，那就是 application 帐号就 是aaa，保存这个文件，退出。 9：使用cmd 命令，然后切换到d 盘目录，在输入SDUpload update chengxu 按enter 10:这时要求输入google 邮箱账号按enter，在输入密码（输密码时cmd 框中不会显示，不用管这个，输玩密码后直接按确定，就开始上传了 11：上传完成后，登陆你的应用网址，确认是否上传成功，成功一开始会显示： 12：这个是正常现象，过几分钟后就显示正常了，教程到此为止，大家觉得可以的话支持一下，谢谢！ 放一个我的演示： http://my-treasures.appspot.com/ Google App Engine（以下简称GAE），使用了云计算技术。它跨越多个服务器和数据中心来虚拟化应用程序。它在2008 年4 月发布了第一个beta 版 本。GAE 空间大小和流量都是用T（1T=1024G）来计算的，所以可以说他是无限空间大小无限流量。 今天反复研究了一天GAE 总算明白了基础的用法，由于比较复杂，教程分步放出。 图文教程： 1、本地搭建环境python。 1）、由于GAE 的环境比较特殊，不是我们常见的ASP、PHP 等环境，所以我们需要在本地搭建一个GAE 的环境。此环境不仅测试时用到，源文件上传 到云空间上时也用到，是必须安装的。下载Python 2）、安装并设置系统环境变量。默认安装到C 盘python25 目录下。安装好后点击右键点击我的电脑――属性――高级――环境变量（N），把系统变 量里的Path 的变量值改成c:/pyhton25,点击确定，完成。 2、安装好python 后下载另一个工具GoogleAppEngine，下载后安装，安装前请先安装python2.5。安装好后第一次运行可能会报错，没关系，关了再 运行就可以了。如果再次运行又报另外一个错误see the logfile 'c:\programfiles\google\google_appengine\launcher\googleappenginelauncher.exe.log' for details,则清空C:\Documents and Settings\Administrator\Google 目录下所以文件。 3、本地测试。首先下载源码，谷歌上有提供很多类型网站的源码，自己可以挑选，我这里给大家一个简单的网盘源码。下载地址：失乐园网盘源码.rar (网 站后台只要加个admin/,注意，“/”不要落了)。运行Google App Engine Launcher（GAEL），点击File――Add Existeing Application――选择“失 乐园网盘”源码的那个文件夹,端口默认。再点击那个Run(那个绿色的箭头)，稍后就会有几个灰色按钮被激活，点击Browse，就会看到网站了，当然 你也可以下载其他源码测试（这里有很多博客程序源码http://code.google.com/p/micolog/downloads/list），有能力的可以自己开发。 演示站：http://free-shiquai.appspot.com/ （可以绑定顶级域名） 在《GAE-利用Google App Engine 免费云空间搭建网站教程(一)》中已经详细的介绍了如何在本地架设GAE 的环境并且浏览GAE 环境 下的网站。今天这个教程（二）将给大家介绍如何上传已经调试、修改好的网站。 上传文件到GAE 图文教程： 1、首先注册一个谷歌帐号，注册地址。 2、注册GAE。到Google Accounts 页面登录，登录后点击Create an Application。 点击Create an Application 后跳到页面需要输入手机号码，Country and Carrier 不用选择，默认就可以了，输入你的手机号码（如+8613888888888）， 此过程完全免费。输入后马上会收到验证码“Google App Engine Code：888888”。 3、开通GAE 服务。填写你的ID 号和标题（建议填一样，不然很容易弄乱掉），Application Identifier 是你的GAE 的ID 号，这个要记得，下面要用 到。点击“Create an Application”按钮，提示Application Registered Successfully，好了，申请成功了。 4、上传网站源码。上传源码前先用记事本打开源码文件里的“app.yaml”文件，第一行application:free-shiquai，把free-shiquai 改成你刚申请 的GAE 的ID。 1、）DOS 下上传。比如我源码文件放在D 盘根目录下D:/shiquai。开始――运行――CMD，然后输入命令appcfg.py update D:/shiquai,输入后会连 接谷歌服务器，要求输入你刚注册的GAE 帐号（Email），和密码，输入后文件就会上传，上传完后会提示Uploading index definitions。如下图。 2）、图形界面下上传。这个非常简单，只要打开教程一里讲过的程序Google App Engine Launcher，选择源码文件，点击Deploy，填入你注册的帐 号密码，OK。马上就上传了。不过要记得把“app.yaml”文件里的ID 改成自己的。 提示You can close this window now，说明已经上传完毕，关掉程序。 文件都上传好了，打开你的GAE 二级域名如：http://free-shiquai.appspot.com/ ,可能会看到一堆代码，这是正常现象，过十个小时左右再打开网 站，就显示正常了。 本教程完！ 图片、音频、视频均可外链。 图片外链演示： appcfg.py update C:\chengxu GAE 是什么？ 从实用的角度说是GAE 可以提供我们稳定的免费网站空间，空间支持语言是python、java，数据库是google 专有的数据库，数据库和空间可以免费使 用1G，超过了1G 就要买了，还提供Google 的带宽，这个带宽约可以支撑一月500 万次访问请求，超过500 万次就要买了?6?7?6?7对于一般网站这免费的 资源就足够了，另外GAE 还支持域名绑定，就相当于个人买的虚拟空间一样。 即使你目前对GAE 不了解，也不会python 或java，也能轻易使用GAE 空间，利用别人编好的基于GAE 的程序建立起自己的网站。 下面就跟着一步一步来 一、申请GAE 空间 1、申请Google 邮箱，如abcdef@gmail.com 如果自己已经有了gmail 就跳过这一步，gmail 申请地址http://www.gmail.com 点页面右下角的“Create an account”按钮申请 2、打开Google App Engine 主页http://appengine.google.com/，在页面右边输入你的email，如你的email 是abcdef@gmail.com，就只需输入abcdef， 输入密码点“sign in”按钮登录。 登录后出现下图所示，点“Create an Application”按钮 3）然后看到下图，申请GAE 需要验证码，GAE 会发送一个验证码到你的手机上，记得在你手机号码前面加上“+86” 4）输入验证码，点上图的“send”后不用一分钟就收到验证码了， 5）在上图红圈位置输入正确验证码后就看到下图， 这是给你自己选择一个二级域名，如在本例我填上seo-cn.appspot.com，至少填6 个字符，填后先点后面的Check 按钮看看能不能用，如果提示不可 用就换新的试试，直到提示Yes?6?7?6?7 6）填好后记得勾上I accept 表示同意他们的条款，点Save 按钮建立。若成功则会出现如下图页面提示 7）点击上图的红圈链接就看到下图的GAE 管理页面，如下图， 这个页面就是你刚才建立的应用的访问统计情况，现在还没有上传你的应用，可以看到No version deployed 提示。 到这里你已经成功申请了一个GAE 应用（说是空间也可以），每个用户可以申请10 个这样的应用，即一个手机号码可以弄到10 个免费的GAE 空间。 二、在自己电脑搭建python+GAE 环境 1）下载、安装python 下载地址 目前python 的下载链接已被封，可在http://www.python.org/ftp/python/2.5.1/下载2.5.1 版本（初学推荐使用这个版本），选择python-2.5.1.msi 下载 也可以点这个直接下载http://www.python.org/ftp/python/2.5.1/python-2.5.1.msi 下载后双击，一直点下一步就可以顺利完成安装 2）下载GAE SDK 下载地址http://code.google.com/intl/zh-CN/appengine/downloads.html 选择Windows 1.3.0 - 2009-12-14 GoogleAppEngine_1.3.0.msi 下载（目前最新版本是1.3.0） 下载后双击一直点下一步可顺利安装 安装了上面两个程序，GAE 的环境就建立好了。 三、上传程序（网站） GAE 空间不同于一般的空间（虚拟空间或vps 空间或asp、php 空间），一般的空间是点对点的上传，而GAE 空间是点对群的上传，这里不细说区别， 所以上传的方法就不一样。按下面的步骤来就明白了。 1）下载可以运行在GAE 的网站程序 开源的程序有很多，博客类网站代表性的是micolog 和cpedialog，CMS 类的网站有GD-cms，这里就以GD-cms 为例。 GD-cms 下载地址 中文版http://cn.ziddu.com/download/445910/gae-django-cms-v1.2.3_cn.zip.html 英文版http://www.ziddu.com/download/7937180/gae-django-cms-v1.2.3_en.zip.html 下载后解压，注意不要放在含有中文或空格的路径里，为了方便就直接放在D 盘的根目录下，如D:\\gae-django-cms，如下图 注意gae-django-cms 这个文件夹名最好不要修改，如果要修改还得把run.bat 和update.bat 的路径改为对应的 2）把下载下来的gae-django-cms 改为自己的网站， 用文本编辑器打开app.yaml 文件，可以用系统自带的记事本（有时用记事本打开只看到一行，就换用写字板打开）或写字板打开， 在第一行application: 后面修改为自己刚才申请到的应用id，如下图 application: seo-cn 其它地方不要修改，直接保存即可 3）在自己电脑运行测试一下 只需双击run.bat 文件，然后打开浏览器，在地址栏输入http://localhost:8080 或http://127.0.0.1:8080/ 注意，这里需要输入http://虽然你平 时打开网站时不用输入它。如果以上过程没出错的话就可以看到如下图所示的网站页面 这界面是英文的（这个网站是支持多国语言，默认为英文）， 下面把它变为中文，只需修改一个地方就可以，用记事本或写字板打开settings.py 文件， 找到这一行 USE_I18N = False #False(en)/True(cn) 如下图 改为 USE_I18N = True #False(en)/True(cn)就可以， 另外有一个地方也可以修改一下（再往下看几行就看到）： DEFAULT_FROM_EMAIL = 'xxxxx@gmail.com' 把email 改为自己的google 邮箱， 保存修改后再刷新一下http://localhost:8080 或http://127.0.0.1:8080/就看到中文界面了，如下图： 你可以把网站的logo 改为自己的，logo 所在的路径/themes/default/images/logo.gif 就暂时这样了，以后有时间再修改别的，可以上传到自己的GAE 空间了 4）上传到GAE 空间 只需双击 update.bat 文件，就会出现下图的黑框 在第一个地方输入自己刚才申请GAE 用的邮箱，如果的邮箱是abcd@gmail.com 就只需输入abcd 就可以，敲回车键提示输入密码，好好的输入密码， 输入密码时屏幕上没有显示，但它会记录的，输完敲回车键，如果密码正确就会出现下图正在上传的信息，如果输错就会让你重新输入邮箱和密码 看到最后红圈里的文字就说明上传已经成功， （从上面的图可以看出，本次上传只上传了1 个文件，其它文件GAE 云计算里已经存在了，直接共享就可以，这就是GAE 的好处，如果是一般的空间， 一个主机有100 个虚拟空间，假设这100 个人都使用动网的论坛程序，那就得上传100 份大部分文件相同的重复文件） 上传后就可以打开自己申请到的GAE 网站http://seo-cn.appspot.com/，如下图： 这样，自己已经成功的把网站上传到GAE 空间了?6?7?6?7 四、给GAE 绑定域名 如果你有自己的域名，又不太喜欢xxxxx.appspot.com 的域名，就可以绑定自己的域名 在绑定域名前得申请一个免费的应用服务 参考 如何申请 Goolge Apps, 企业级在线应用服务 打开Google App Engine 主页http://appengine.google.com/，在页面右边输入你的email，如你的email 是abcdef@gmail.com，就只需输入abcdef， 输入密码点“sign in”按钮登录。 点击左栏的Application Settings，看到页面如下图所示 点Add Domain 按钮，接下来比较简单，按照提示操作即可，下面只贴图附简单说明 在上图位置先别点下一步，先到自己的域名控制面板添加一个CNAME，如下图： 回到自己的GAE 控制面板，点下一步就出现下图提示 点我已经完成了这些步骤，看到下图 这样就可以用自己绑定的域名访问自己的GAE 网站了，如下图 现在网上已经有好多玩家发布现成的程序，我们可以直接上传使用，但这里会带来一个问题，是我们原本无法想到的。后面会提到。 首先我们需要前期准备： 1、注册GAE。 链接：http://appengine.google.com/ 注册必须是Gmail 用户。 2、登录GAE，新建一个应用（application)。 比如我新建的应用名为：yuebinliu 3、下载、安装App Engine SDK 链接：http://code.google.com/intl/zh-CN/appengine/downloads.html 比如我的安装目录为：D:\Program Files\Google\google_appengine 4、下载、安装python 2.5 链接：http://www.python.org/ftp/python/2.5.4/python-2.5.4.msi 。 为什么是2.5 呢？因为目前GAE 只支持2.5。 下面我们看如何在本地启动调试程序 和 安装调试好的程序。 1、启动本地server 调试程序。就拿hello world 举个列子（hello world 是gg 提供的一个测试程序，具体查看官方提供的说明。 Start the web server with the following command, giving it the path to the helloworld directory: google_appengine/dev_appserver.py helloworld/ The web server is now running, listening for requests on port 8080. Test the application by visiting the following URL in your web browser:  http://localhost:8080/ 2、安装程序。我们这里就用micolog 这个比较流行的blog 来举列子。 1)把micolog 复制到GAE 的安装目录（你可以对micolog 目录名改名,比如我就改名为“yuebinliu”），修改app.yaml 文件中的第一行，把 “application:”后面的“mlog”，改成你在GAE 上新建的应用名。比如，我就改成：application:yuebinliu 2)开始-运行-cmd，进入D:\Program Files\Google\google_appengine，输入命令： appcfg.py update yuebinliu/ 然后根据提示输入gmail 地址和密码，通过后会上传micolog 博客程序。这时你就可以访问你在GAE 上的博客了，访问的地址为：http://应用 名.appspot.com, 比如我的就是：http://yuebinliu.appspot.com。 经过上面的方法详细大家都已经搭建好和我一样的平台了。恭喜你。 在安装程序很可能出现有人无法上传 index.yaml 文件的问题。 Uploading index definitions. Error 400: --- begin server output --- Creating a composite index failed: This index: entity_type: "Comment" ancestor: false Property { name: "date" direction: 2 } is not necessary, since single-property indices are built in. Please remove it f rom your index file and upgrade to the latest version of the SDK, if you haven't already. --- end server output --- Your app was updated, but there was an error updating your indexes. Please retry later with appcfg.py update_indexes. 这个很多人安装教程里面都没提到，哭～ 产生这个问题的原因是未在本地调试程序，当你本地调试的时候程序会自动帮你生成一条规则到index.yaml ，上传程序的时候index 规则也会更 新。 你需要做的仅仅是删除index.yaml 文件里面的规则，然后调试，再上传index.yaml 文件到服务器就可以了。重上传index.yaml 命令： appcfg.py update_indexes chengxu/